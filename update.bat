@echo off
:: Устанавливаем кодировку UTF-8 для корректного отображения текста
chcp 65001 >nul

:: Функция для отображения ошибки и выхода
:handle_error
echo [Ошибка] %1
pause
exit /b 1

:: Начало выполнения скрипта
echo === Сброс локальных изменений ===
git reset --hard
if %errorlevel% neq 0 (
    call :handle_error "Не удалось сбросить изменения. Проверьте наличие несохранённых данных."
)

echo === Получение обновлений из удаленного репозитория ===
git pull origin main
if %errorlevel% neq 0 (
    call :handle_error "Не удалось получить обновления. Проверьте подключение к сети и права доступа."
)

:: Сообщение об успешном завершении
echo === Успешное обновление файлов! ===
pause
exit /b 0
